!function(){"use strict";const e=function(){var e=document.querySelector(".popup-menu"),t=document.querySelector(".popup-dialog-menu"),r=document.querySelector(".menu__icon"),n=function(){e.style.visibility="hidden",t.style.transform="translate3d(645px, 0, 0)"},o=function(){e.style.visibility="hidden",t.style.transform="translate3d(0, -100vh, 0)"};document.documentElement.clientWidth<=576?(document.addEventListener("click",(function(e){var t=e.target;t.closest(".close-menu")&&o(),t.closest(".popup-menu-nav__item")&&o()})),r.addEventListener("click",(function(){e.style.visibility="visible",t.style.transform="translate3d(0, 0, 0)"}))):(document.addEventListener("click",(function(e){var t=e.target;t.closest(".close-menu")&&n(),t.closest(".popup-menu-nav__item")&&n(),t.closest(".popup-menu")&&t.closest(".link-list")&&n()})),r.addEventListener("click",(function(){e.style.visibility="visible",t.style.transform="translate3d(0, 0, 0)"})))};function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,c=function(){};return{s:c,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n,o,c,i,a,l,s,d,u,p,v;d=document.querySelector(".header-contacts__phone-number-accord"),u=document.querySelector(".header-contacts__phone-number-accord>.header-contacts__phone-number"),p=document.querySelector(".header-contacts__arrow"),v=p.querySelector("img"),p.addEventListener("click",(function(){if("rotate(180deg)"!==v.style.transform)var e=0,t=setInterval((function(){e++,u.style.opacity=1,v.style.transform="rotate(".concat(7*e,"deg)"),d.style.top="".concat(e,"px"),e>=25&&(v.style.transform="rotate(180deg)",clearInterval(t))}),10);else{var r=25;u.style.opacity=0;var n=setInterval((function(){r--,v.style.transform="rotate(".concat(7*r,"deg)"),d.style.top="".concat(r,"px"),r<=0&&(d.style.top="0px",v.style.transform="rotate(0deg)",clearInterval(n))}),10)}})),e(),document.querySelectorAll("a.scroll").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.getAttribute("href");document.querySelector(r).scrollIntoView({behavior:"smooth",blocks:"start"})}))})),e(),(s=document.querySelector(".popup-repair-types")).querySelectorAll(".close.mobile-hide").forEach((function(e){e.addEventListener("click",(function(){s.style.visibility="hidden"}))})),l=function(e,r){var n=document.querySelector(".popup-repair-types-content-table__list>tbody");n.innerHTML="";var o,c=t(r);try{for(c.s();!(o=c.n()).done;){var i=o.value;if(i.type===e){var a=document.createElement("tr");a.className="mobile-row",a.innerHTML='\n            <td class="repair-types-name">\n              '.concat(i.name,'\n            </td>\n            <td class="mobile-col-title tablet-hide desktop-hide">\n              Ед.измерения\n            </td>\n            <td class="mobile-col-title tablet-hide desktop-hide">\n              Цена за ед.\n            </td>\n            <td class="repair-types-value">м<sup>2</sup></td>\n            <td class="repair-types-value">').concat(i.cost," руб.</td>\n          "),n.append(a)}}}catch(e){c.e(e)}finally{c.f()}},fetch("crm-backend/db.json").then((function(e){if(200!==e.status)throw new Error;return e.json()})).then((function(e){localStorage.setItem("dataRepair",JSON.stringify(e)),function(e){var r,n=document.querySelector(".nav-list-popup-repair"),o=new Set,c=t(e);try{for(c.s();!(r=c.n()).done;){var i=r.value;o.add(i.type,0)}}catch(e){c.e(e)}finally{c.f()}o.forEach((function(e){var t=document.createElement("button");t.className="button_o popup-repair-types-nav__item",t.innerHTML="".concat(e),n.append(t)}));var a=document.querySelectorAll(".popup-repair-types-nav__item");a[0].classList.add("active");var s=a[0].textContent;l(s,e)}(e)})).catch((function(e){return console.error(e)})),document.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.closest(".link-list")&&(s.style.visibility="visible"),t.closest(".popup-repair-types")&&t.closest(".close")&&(s.style.visibility="hidden");var r=document.querySelectorAll(".popup-repair-types-nav__item"),n=document.querySelector(".popup-repair-types-content__head-title");if(t.closest(".popup-repair-types-nav__item")){r.forEach((function(e){return e.classList.remove("active")})),t.classList.add("active");var o=t.textContent,c=JSON.parse(localStorage.getItem("dataRepair"));n.textContent=o,l(o,c)}})),c=document.querySelectorAll(".link-privacy"),i=document.querySelector(".popup-privacy"),a=function(){i.style.visibility="visible"},c.forEach((function(e){e.addEventListener("click",a)})),document.addEventListener("click",(function(e){var t=e.target;t.closest(".popup-privacy")&&t.closest(".close")&&(i.style.visibility="hidden")})),function(){var e=document.querySelector(".reviews"),t=document.querySelectorAll(".reviews-slider__slide"),r=document.querySelector(".slider-dots-reviews"),n=document.querySelector(".reviews-slider"),o=document.querySelector(".reviews-slider-wrap>.reviews-slider"),c=0;r.style.display="flex",n.style.display="flex",t[c].classList.add("active-slide"),o.style.overflow="initial",function(){for(var e=0;e<t.length;){var n=document.createElement("div");n.className="dot dot-reviews switch",n.innerHTML='<div class="dot__inner"></div>',0===e&&n.classList.add("dot_active"),r.append(n),e++}}();var i=function(e,t,r){o.style.transform="translateX(".concat(n.clientWidth*c,"px)"),e[t].classList.remove(r)},a=function(e,t,r){o.style.transform="translateX(-".concat(n.clientWidth*c,"px)"),e[t].classList.add(r)},l=document.querySelectorAll(".dot-reviews");e.addEventListener("click",(function(e){e.preventDefault();var r=e.target;r.matches(".slider-arrow_left, .slider-arrow_right, .dot-reviews")&&(i(t,c,"active-slide"),i(l,c,"dot_active"),r.matches(".slider-arrow_right")?c++:r.matches(".slider-arrow_left")?c--:r.matches(".dot-reviews")&&l.forEach((function(e,t){r===e&&(c=t)})),c>=t.length?c=0:c<0&&(c=t.length-1),a(t,c,"active-slide"),a(l,c,"dot_active"))}))}(),n=document.querySelector(".accordion"),o=n.querySelectorAll(".title_block"),document.querySelectorAll(".accordion>.msg"),n.addEventListener("click",(function(e){var t=e.target;t.closest(".msg-active")?t.classList.remove("msg-active"):t.closest(".title_block")&&o.forEach((function(e,r){e===t&&function(e){for(var t=0;t<o.length;t++)e===t?o[t].classList.add("msg-active"):o[t].classList.remove("msg-active")}(r)}))}))}();